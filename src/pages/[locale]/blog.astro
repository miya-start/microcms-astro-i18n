---
import Articles from 'components/Articles.astro'
import { getBlogs } from 'library/microcms'
import { langsArr, type Lang } from 'types/index'

export async function getStaticPaths() {
  return langsArr.map((lang) => ({
    params: {
      locale: lang,
    },
  }))
}

const { locale: lang } = Astro.params as { locale: Lang }
const { contents: posts } = await getBlogs({
  fields: ['id', 'title', 'publishedAt', 'eyecatch'],
})
---

<Articles lang={lang} posts={posts} />
